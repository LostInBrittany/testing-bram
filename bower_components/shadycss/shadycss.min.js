(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function e(De){return De=a(De),u(d(De),De)}function a(De){return De.replace(X.comments,'').replace(X.port,'')}function d(De){let ke={start:0,end:De.length},Ue=ke;for(let Ke=0,Xe=De.length;Ke<Xe;Ke++)if(De[Ke]===U){Ue.rules||(Ue.rules=[]);let Ve=Ue,je=Ve.rules[Ve.rules.length-1];Ue={start:Ke+1,parent:Ve,previous:je},Ve.rules.push(Ue)}else De[Ke]===K&&(Ue.end=Ke+1,Ue=Ue.parent||ke);return ke}function u(De,ke){let Ue=ke.substring(De.start,De.end-1);if(De.parsedCssText=De.cssText=Ue.trim(),De.parent){let Xe=De.previous?De.previous.end:De.parent.start;Ue=ke.substring(Xe,De.start-1),Ue=y(Ue),Ue=Ue.replace(X.multipleSpaces,' '),Ue=Ue.substring(Ue.lastIndexOf(';')+1);let Ve=De.parsedSelector=De.selector=Ue.trim();De.atRule=0===Ve.indexOf('@'),De.atRule?0===Ve.indexOf('@media')?De.type=k.MEDIA_RULE:Ve.match(X.keyframesRule)&&(De.type=k.KEYFRAMES_RULE,De.keyframesName=De.selector.split(X.multipleSpaces).pop()):0===Ve.indexOf(V)?De.type=k.MIXIN_RULE:De.type=k.STYLE_RULE}let Ke=De.rules;if(Ke)for(let je,Xe=0,Ve=Ke.length;Xe<Ve&&(je=Ke[Xe]);Xe++)u(je,ke);return De}function y(De){return De.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let ke=arguments[1],Ue=6-ke.length;for(;Ue--;)ke='0'+ke;return'\\'+ke})}function _(De,ke,Ue){Ue=Ue||'';let Ke='';if(De.cssText||De.rules){let Xe=De.rules;if(Xe&&!S(Xe))for(let Be,Ve=0,je=Xe.length;Ve<je&&(Be=Xe[Ve]);Ve++)Ke=_(Be,ke,Ke);else Ke=ke?De.cssText:h(De.cssText),Ke=Ke.trim(),Ke&&(Ke='  '+Ke+'\n')}return Ke&&(De.selector&&(Ue+=De.selector+' '+U+'\n'),Ue+=Ke,De.selector&&(Ue+=K+'\n\n')),Ue}function S(De){return 0===De[0].selector.indexOf(V)}function h(De){return De=g(De),C(De)}function g(De){return De.replace(X.customProp,'').replace(X.mixinProp,'')}function C(De){return De.replace(X.mixinApply,'').replace(X.varApply,'')}function E(De){De&&(B=B&&!De.shimcssproperties,j=j&&!De.shimshadow)}function A(De,ke){return'string'==typeof De&&(De=e(De)),ke&&R(De,ke),_(De,B)}function T(De){return!De.__cssRules&&De.textContent&&(De.__cssRules=e(De.textContent)),De.__cssRules}function N(De){return De.parent&&De.parent.type===k.KEYFRAMES_RULE}function R(De,ke,Ue,Ke){if(De){let Xe=!1;if(Ke&&De.type===k.MEDIA_RULE){let je=De.selector.match(q.MEDIA_MATCH);je&&!window.matchMedia(je[1]).matches&&(Xe=!0)}De.type===k.STYLE_RULE?ke(De):Ue&&De.type===k.KEYFRAMES_RULE?Ue(De):De.type===k.MIXIN_RULE&&(Xe=!0);let Ve=De.rules;if(Ve&&!Xe)for(let Ye,je=0,Be=Ve.length;je<Be&&(Ye=Ve[je]);je++)R(Ye,ke,Ue,Ke)}}function P(De,ke,Ue,Ke){let Xe=O(De,ke);return I(Xe,Ue,Ke)}function I(De,ke,Ue){ke=ke||document.head;let Ke=Ue&&Ue.nextSibling||ke.firstChild;return G=De,ke.insertBefore(De,Ke)}function O(De,ke){let Ue=document.createElement('style');return ke&&Ue.setAttribute('scope',ke),Ue.textContent=De,Ue}function M(De){let ke=document.createComment(' Shady DOM styles for '+De+' '),Ue=G?G.nextSibling:null,Ke=document.head;return Ke.insertBefore(ke,Ue||Ke.firstChild),G=ke,ke}function b(De,ke){let Ue=0;for(let Ke=ke,Xe=De.length;Ke<Xe;Ke++)if('('===De[Ke])Ue++;else if(')'===De[Ke]&&0==--Ue)return Ke;return-1}function w(De,ke){let Ue=De.indexOf('var(');if(-1===Ue)return ke(De,'','','');let Ke=b(De,Ue+3),Xe=De.substring(Ue+4,Ke),Ve=De.substring(0,Ue),je=w(De.substring(Ke+1),ke),Be=Xe.indexOf(',');if(-1===Be)return ke(Ve,Xe.trim(),'',je);let Ye=Xe.substring(0,Be).trim(),Ge=Xe.substring(Be+1).trim();return ke(Ve,Ye,Ge,je)}function L(De,ke){De.__nativeSetAttribute?De.__nativeSetAttribute('class',ke):De.setAttribute('class',ke)}function H(De,ke){let Ue=parseInt(De/32);ke[Ue]=(ke[Ue]||0)|1<<De%32}function F(){we||(we=!0,window.HTMLImports?window.HTMLImports.whenReady(D):'complete'===document.readyState?D():document.addEventListener('readystatechange',()=>{'complete'===document.readyState&&D()}))}function D(){requestAnimationFrame(()=>{(we||be._elementsHaveApplied)&&be.updateStyles(),we=!1})}let k={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},U='{',K='}',X={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},V='--',j=!(window.ShadyDOM&&window.ShadyDOM.inUse),B=!navigator.userAgent.match('AppleWebKit/601')&&window.CSS&&CSS.supports&&CSS.supports('box-shadow','0 0 0 var(--foo)'),Y=!1;window.ShadyCSS?E(window.ShadyCSS):window.WebComponents&&E(window.WebComponents.flags);let G=null,q={VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:'(?:^|[^.#[:])',HOST_SUFFIX:'($|[.:[\\s>+~])'};const W='style-scope';class z{get SCOPE_NAME(){return W}dom(De,ke,Ue){De.__styleScoped?De.__styleScoped=null:this._transformDom(De,ke||'',Ue)}_transformDom(De,ke,Ue){De.nodeType===Node.ELEMENT_NODE&&this.element(De,ke,Ue);let Ke='template'===De.localName?(De.content||De._content).childNodes:De.children||De.childNodes;if(Ke)for(let Xe=0;Xe<Ke.length;Xe++)this._transformDom(Ke[Xe],ke,Ue)}element(De,ke,Ue){if(ke)if(De.classList)Ue?(De.classList.remove(W),De.classList.remove(ke)):(De.classList.add(W),De.classList.add(ke));else if(De.getAttribute){let Ke=De.getAttribute('class');if(!Ue){let Xe=(Ke?Ke+' ':'')+W+' '+ke;L(De,Xe)}else if(Ke){let Xe=Ke.replace(W,'').replace(ke,'');L(De,Xe)}}}elementStyles(De,ke,Ue){let Ke=De.__cssBuild,Xe=j||'shady'===Ke?A(ke,Ue):this.css(ke,De.is,De.extends,Ue)+'\n\n';return Xe.trim()}css(De,ke,Ue,Ke){let Xe=this._calcHostScope(ke,Ue);ke=this._calcElementScope(ke);let Ve=this;return A(De,function(je){je.isScoped||(Ve.rule(je,ke,Xe),je.isScoped=!0),Ke&&Ke(je,ke,Xe)})}_calcElementScope(De){return De?'.'+De:''}_calcHostScope(De,ke){return ke?'[is='+De+']':De}rule(De,ke,Ue){this._transformRule(De,this._transformComplexSelector,ke,Ue)}_transformRule(De,ke,Ue,Ke){De.selector=De.transformedSelector=this._transformRuleCss(De,ke,Ue,Ke)}_transformRuleCss(De,ke,Ue,Ke){let Xe=De.selector.split(Z);if(!N(De))for(let Be,Ve=0,je=Xe.length;Ve<je&&(Be=Xe[Ve]);Ve++)Xe[Ve]=ke.call(this,Be,Ue,Ke);return Xe.join(Z)}_transformComplexSelector(De,ke,Ue){let Ke=!1;return De=De.trim(),De=De.replace($,(Xe,Ve,je)=>`:${Ve}(${je.replace(/\s/g,'')})`),De=De.replace(re,`${te} $1`),De=De.replace(J,(Xe,Ve,je)=>{if(!Ke){let Be=this._transformCompoundSelector(je,Ve,ke,Ue);Ke=Ke||Be.stop,Ve=Be.combinator,je=Be.value}return Ve+je}),De}_transformCompoundSelector(De,ke,Ue,Ke){let Xe=De.indexOf(se);0<=De.indexOf(te)?De=this._transformHostSelector(De,Ke):0!==Xe&&(De=Ue?this._transformSimpleSelector(De,Ue):De);let Ve=!1;0<=Xe&&(ke='',Ve=!0);let je;return Ve&&(je=!0,Ve&&(De=De.replace(oe,(Be,Ye)=>` > ${Ye}`))),De=De.replace(le,(Be,Ye,Ge)=>`[dir="${Ge}"] ${Ye}, ${Ye}[dir="${Ge}"]`),{value:De,combinator:ke,stop:je}}_transformSimpleSelector(De,ke){let Ue=De.split(ae);return Ue[0]+=ke,Ue.join(ae)}_transformHostSelector(De,ke){let Ue=De.match(ne),Ke=Ue&&Ue[2].trim()||'';if(Ke){if(!Ke[0].match(ee)){let Xe=Ke.split(ee)[0];return Xe===ke?Ke:'should_not_match'}return De.replace(ne,function(Xe,Ve,je){return ke+je})}return De.replace(te,ke)}documentRule(De){De.selector=De.parsedSelector,this.normalizeRootSelector(De),this._transformRule(De,this._transformDocumentSelector)}normalizeRootSelector(De){':root'===De.selector&&(De.selector='html')}_transformDocumentSelector(De){return De.match(se)?this._transformComplexSelector(De,Q):this._transformSimpleSelector(De.trim(),Q)}}let $=/:(nth[-\w]+)\(([^)]+)\)/,Q=`:not(.${W})`,Z=',',J=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,ee=/[[.:#*]/,te=':host',se='::slotted',re=/^(::slotted)/,ne=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,oe=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,le=/(.*):dir\((?:(ltr|rtl))\)/,ae=':';var ie=new z,pe={};const de=Promise.resolve();class me{static get(De){return De.__styleInfo}static set(De,ke){return De.__styleInfo=ke,ke}static invalidate(De){pe[De]&&(pe[De]._applyShimInvalid=!0)}static startValidating(De){const ke=pe[De];ke._validating||(ke._validating=!0,de.then(()=>{ke._applyShimInvalid=!1,ke._validating=!1}))}constructor(De,ke,Ue,Ke,Xe,Ve){this.styleRules=De||null,this.placeholder=ke||null,this.ownStylePropertyNames=Ue||[],this.overrideStyleProperties=null,this.elementName=Ke||'',this.cssBuild=Ve||'',this.typeExtension=Xe||'',this.styleProperties=null,this.scopeSelector=null,this.customStyle=null}}const ue=window.Element.prototype,ye=ue.matches||ue.matchesSelector||ue.mozMatchesSelector||ue.msMatchesSelector||ue.oMatchesSelector||ue.webkitMatchesSelector,_e=navigator.userAgent.match('Trident'),fe='x-scope';class Se{get XSCOPE_NAME(){return fe}decorateStyles(De){let ke=this,Ue={},Ke=[],Xe=0;R(De,function(je){ke.decorateRule(je),je.index=Xe++,ke.collectPropertiesInCssText(je.propertyInfo.cssText,Ue)},function(Be){Ke.push(Be)}),De._keyframes=Ke;let Ve=[];for(let je in Ue)Ve.push(je);return Ve}decorateRule(De){if(De.propertyInfo)return De.propertyInfo;let ke={},Ue={},Ke=this.collectProperties(De,Ue);return Ke&&(ke.properties=Ue,De.rules=null),ke.cssText=this.collectCssText(De),De.propertyInfo=ke,ke}collectProperties(De,ke){let Ue=De.propertyInfo;if(!Ue){let Ke,Xe=q.VAR_ASSIGN,Ve=De.parsedCssText,je,Be;for(;Ke=Xe.exec(Ve);)je=(Ke[2]||Ke[3]).trim(),('inherit'!==je||'unset'!==je)&&(ke[Ke[1].trim()]=je),Be=!0;return Be}else if(Ue.properties)return Object.assign(ke,Ue.properties),!0}collectCssText(De){return this.collectConsumingCssText(De.parsedCssText)}collectConsumingCssText(De){return De.replace(q.BRACKETED,'').replace(q.VAR_ASSIGN,'')}collectPropertiesInCssText(De,ke){for(let Ue;Ue=q.VAR_CONSUMED.exec(De);){let Ke=Ue[1];':'!==Ue[2]&&(ke[Ke]=!0)}}reify(De){let ke=Object.getOwnPropertyNames(De);for(let Ke,Ue=0;Ue<ke.length;Ue++)Ke=ke[Ue],De[Ke]=this.valueForProperty(De[Ke],De)}valueForProperty(De,ke){if(De)if(0<=De.indexOf(';'))De=this.valueForProperties(De,ke);else{let Ue=this;De=w(De,function(Ke,Xe,Ve,je){if(!Xe)return Ke+je;let Be=Ue.valueForProperty(ke[Xe],ke);return Be&&'initial'!==Be?'apply-shim-inherit'===Be&&(Be='inherit'):Be=Ue.valueForProperty(ke[Ve]||Ve,ke)||Ve,Ke+(Be||'')+je})}return De&&De.trim()||''}valueForProperties(De,ke){let Ue=De.split(';');for(let Xe,Ve,Ke=0;Ke<Ue.length;Ke++)if(Xe=Ue[Ke]){if(q.MIXIN_MATCH.lastIndex=0,Ve=q.MIXIN_MATCH.exec(Xe),Ve)Xe=this.valueForProperty(ke[Ve[1]],ke);else{let je=Xe.indexOf(':');if(-1!==je){let Be=Xe.substring(je);Be=Be.trim(),Be=this.valueForProperty(Be,ke)||Be,Xe=Xe.substring(0,je)+Be}}Ue[Ke]=Xe&&Xe.lastIndexOf(';')===Xe.length-1?Xe.slice(0,-1):Xe||''}return Ue.join(';')}applyProperties(De,ke){let Ue='';De.propertyInfo||this.decorateRule(De),De.propertyInfo.cssText&&(Ue=this.valueForProperties(De.propertyInfo.cssText,ke)),De.cssText=Ue}applyKeyframeTransforms(De,ke){let Ue=De.cssText,Ke=De.cssText;if(null==De.hasAnimations&&(De.hasAnimations=q.ANIMATION_MATCH.test(Ue)),De.hasAnimations){let Xe;if(null==De.keyframeNamesToTransform)for(let Ve in De.keyframeNamesToTransform=[],ke)Xe=ke[Ve],Ke=Xe(Ue),Ue!==Ke&&(Ue=Ke,De.keyframeNamesToTransform.push(Ve));else{for(let Ve=0;Ve<De.keyframeNamesToTransform.length;++Ve)Xe=ke[De.keyframeNamesToTransform[Ve]],Ue=Xe(Ue);Ke=Ue}}De.cssText=Ke}propertyDataFromStyles(De,ke){let Ue={},Ke=this,Xe=[];return R(De,function(Ve){Ve.propertyInfo||Ke.decorateRule(Ve);let je=Ve.transformedSelector||Ve.parsedSelector;ke&&Ve.propertyInfo.properties&&je&&ye.call(ke,je)&&(Ke.collectProperties(Ve,Ue),H(Ve.index,Xe))},null,!0),{properties:Ue,key:Xe}}whenHostOrRootRule(De,ke,Ue,Ke){if(ke.propertyInfo||this.decorateRule(ke),!!ke.propertyInfo.properties){let Xe=De.is?ie._calcHostScope(De.is,De.extends):'html',Ve=ke.parsedSelector,je=':host > *'===Ve||'html'===Ve,Be=0===Ve.indexOf(':host')&&!je;if('shady'===Ue&&(je=Ve===Xe+' > *.'+Xe||-1!==Ve.indexOf('html'),Be=!je&&0===Ve.indexOf(Xe)),'shadow'===Ue&&(je=':host > *'===Ve||'html'===Ve,Be=Be&&!je),je||Be){let Ye=Xe;Be&&(j&&!ke.transformedSelector&&(ke.transformedSelector=ie._transformRuleCss(ke,ie._transformComplexSelector,ie._calcElementScope(De.is),Xe)),Ye=ke.transformedSelector||Xe),Ke({selector:Ye,isHost:Be,isRoot:je})}}}hostAndRootPropertiesForScope(De,ke){let Ue={},Ke={},Xe=this,Ve=ke&&ke.__cssBuild;return R(ke,function(je){Xe.whenHostOrRootRule(De,je,Ve,function(Be){let Ye=De._element||De;ye.call(Ye,Be.selector)&&(Be.isHost?Xe.collectProperties(je,Ue):Xe.collectProperties(je,Ke))})},null,!0),{rootProps:Ke,hostProps:Ue}}transformStyles(De,ke,Ue){let Ke=this,Xe=ie._calcHostScope(De.is,De.extends),Ve=De.extends?'\\'+Xe.slice(0,-1)+'\\]':Xe,je=new RegExp(q.HOST_PREFIX+Ve+q.HOST_SUFFIX),Be=me.get(De).styleRules,Ye=this._elementKeyframeTransforms(De,Be,Ue);return ie.elementStyles(De,Be,function(Ge){Ke.applyProperties(Ge,ke),j||N(Ge)||!Ge.cssText||(Ke.applyKeyframeTransforms(Ge,Ye),Ke._scopeSelector(Ge,je,Xe,Ue))})}_elementKeyframeTransforms(De,ke,Ue){let Ke=ke._keyframes,Xe={};if(!j&&Ke)for(let Ve=0,je=Ke[Ve];Ve<Ke.length;je=Ke[++Ve])this._scopeKeyframes(je,Ue),Xe[je.keyframesName]=this._keyframesRuleTransformer(je);return Xe}_keyframesRuleTransformer(De){return function(ke){return ke.replace(De.keyframesNameRx,De.transformedKeyframesName)}}_scopeKeyframes(De,ke){De.keyframesNameRx=new RegExp(De.keyframesName,'g'),De.transformedKeyframesName=De.keyframesName+'-'+ke,De.transformedSelector=De.transformedSelector||De.selector,De.selector=De.transformedSelector.replace(De.keyframesName,De.transformedKeyframesName)}_scopeSelector(De,ke,Ue,Ke){De.transformedSelector=De.transformedSelector||De.selector;let Xe=De.transformedSelector,Ve='.'+Ke,je=Xe.split(',');for(let Ge,Be=0,Ye=je.length;Be<Ye&&(Ge=je[Be]);Be++)je[Be]=Ge.match(ke)?Ge.replace(Ue,Ve):Ve+' '+Ge;De.selector=je.join(',')}applyElementScopeSelector(De,ke,Ue){let Ke=De.getAttribute('class')||'',Xe=Ke;Ue&&(Xe=Ke.replace(new RegExp('\\s*'+fe+'\\s*'+Ue+'\\s*','g'),' ')),Xe+=(Xe?' ':'')+fe+' '+ke,Ke!==Xe&&(De.__nativeSetAttribute?De.__nativeSetAttribute('class',Xe):De.setAttribute('class',Xe))}applyElementStyle(De,ke,Ue,Ke){let Xe=Ke?Ke.textContent||'':this.transformStyles(De,ke,Ue),Ve=me.get(De),je=Ve.customStyle;return je&&!j&&je!==Ke&&(je._useCount--,0>=je._useCount&&je.parentNode&&je.parentNode.removeChild(je)),j?Ve.customStyle?(Ve.customStyle.textContent=Xe,Ke=Ve.customStyle):Xe&&(Ke=P(Xe,Ue,De.shadowRoot,Ve.placeholder)):Ke?!Ke.parentNode&&I(Ke,null,Ve.placeholder):Xe&&(Ke=P(Xe,Ue,null,Ve.placeholder)),Ke&&(Ke._useCount=Ke._useCount||0,Ve.customStyle!=Ke&&Ke._useCount++,Ve.customStyle=Ke),_e&&(Ke.textContent=Ke.textContent),Ke}applyCustomStyle(De,ke){let Ue=T(De),Ke=this;De.textContent=A(Ue,function(Xe){let Ve=Xe.cssText=Xe.parsedCssText;Xe.propertyInfo&&Xe.propertyInfo.cssText&&(Ve=g(Ve),Xe.cssText=Ke.valueForProperties(Ve,ke))})}}var he=new Se;let ge={};const xe=window.customElements;if(xe&&!j){const De=xe.define;xe.define=function(ke,Ue,Ke){return ge[ke]=M(ke),De.call(xe,ke,Ue,Ke)}}let Ce=q.MIXIN_MATCH,Ee=q.VAR_ASSIGN,Ae=/;\s*/m,Te=/^\s*(initial)|(inherit)\s*$/,Ne='_-_';class ve{constructor(){this._map={}}set(De,ke){De=De.trim(),this._map[De]={properties:ke,dependants:{}}}get(De){return De=De.trim(),this._map[De]}}class Re{constructor(){this._currentTemplate=null,this._measureElement=null,this._map=new ve,this._separator=Ne,this._boundProduceCssProperties=(De,ke,Ue,Ke)=>this._produceCssProperties(De,ke,Ue,Ke)}detectMixin(De){const ke=Ce.test(De)||Ee.test(De);return Ce.lastIndex=0,Ee.lastIndex=0,ke}transformStyle(De,ke){let Ue=T(De);return this.transformRules(Ue,ke),Ue}transformRules(De,ke){this._currentTemplate=pe[ke],R(De,Ue=>{this.transformRule(Ue)}),this._currentTemplate=null}transformRule(De){De.cssText=this.transformCssText(De.parsedCssText),':root'===De.selector&&(De.selector=':host > *')}transformCssText(De){return De=De.replace(Ee,this._boundProduceCssProperties),this._consumeCssProperties(De)}_getInitialValueForProperty(De){return this._measureElement||(this._measureElement=document.createElement('meta'),this._measureElement.style.all='initial',document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(De)}_consumeCssProperties(De){for(let ke;ke=Ce.exec(De);){let Ue=ke[0],Ke=ke[1],Xe=ke.index,Ve=Xe+Ue.indexOf('@apply'),je=Xe+Ue.length,Be=De.slice(0,Ve),Ye=De.slice(je),Ge=this._cssTextToMap(Be),qe=this._atApplyToCssProperties(Ke,Ge);De=[Be,qe,Ye].join(''),Ce.lastIndex=Xe+qe.length}return De}_atApplyToCssProperties(De,ke){De=De.replace(Ae,'');let Ue=[],Ke=this._map.get(De);if(Ke||(this._map.set(De,{}),Ke=this._map.get(De)),Ke){this._currentTemplate&&(Ke.dependants[this._currentTemplate.name]=this._currentTemplate);let Xe,Ve,je;for(Xe in Ke.properties)je=ke&&ke[Xe],Ve=[Xe,': var(',De,Ne,Xe],je&&Ve.push(',',je),Ve.push(')'),Ue.push(Ve.join(''))}return Ue.join('; ')}_replaceInitialOrInherit(De,ke){let Ue=Te.exec(ke);return Ue&&(Ue[1]?ke=Re._getInitialValueForProperty(De):ke='apply-shim-inherit'),ke}_cssTextToMap(De){let ke=De.split(';'),Ue,Ke,Xe={};for(let je,Be,Ve=0;Ve<ke.length;Ve++)je=ke[Ve],je&&(Be=je.split(':'),1<Be.length&&(Ue=Be[0].trim(),Ke=this._replaceInitialOrInherit(Ue,Be.slice(1).join(':')),Xe[Ue]=Ke));return Xe}_invalidateMixinEntry(De){for(let ke in De.dependants)this._currentTemplate&&ke===this._currentTemplate.name||me.invalidate(ke)}_produceCssProperties(De,ke,Ue,Ke){if(Ue&&w(Ue,(Qe,Ze)=>{Ze&&this._map.get(Ze)&&(Ke='@apply '+Ze+';')}),!Ke)return De;let Xe=this._consumeCssProperties(Ke),Ve=De.slice(0,De.indexOf('--')),je=this._cssTextToMap(Xe),Be=je,Ye=this._map.get(ke),Ge=Ye&&Ye.properties;Ge?Be=Object.assign(Object.create(Ge),je):this._map.set(ke,Be);let We,ze,qe=[],$e=!1;for(We in Be)ze=je[We],void 0==ze&&(ze='initial'),Ge&&!(We in Ge)&&($e=!0),qe.push(ke+Ne+We+': '+ze);return $e&&this._invalidateMixinEntry(Ye),Ye&&(Ye.properties=Be),Ue&&(Ve=De+';'+Ve),Ve+qe.join('; ')+';'}}let Pe=new Re;window.ApplyShim=Pe;let Ie=function(){};if(!j){let De=Ve=>{return Ve.classList&&!Ve.classList.contains(ie.SCOPE_NAME)||Ve instanceof SVGElement&&(!Ve.hasAttribute('class')||0>Ve.getAttribute('class').indexOf(ie.SCOPE_NAME))},ke=Ve=>{for(let je=0;je<Ve.length;je++){let Be=Ve[je];if(Be.target!==document.documentElement&&Be.target!==document.head){for(let Ye=0;Ye<Be.addedNodes.length;Ye++){let Ge=Be.addedNodes[Ye];if(De(Ge)){let qe=Ge.getRootNode();if(qe.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let We=qe.host;if(We){let ze=We.is||We.localName;ie.dom(Ge,ze)}}}}for(let Ye=0;Ye<Be.removedNodes.length;Ye++){let Ge=Be.removedNodes[Ye];if(Ge.nodeType===Node.ELEMENT_NODE){let qe;if(Ge.classList?qe=Array.from(Ge.classList):Ge.hasAttribute('class')&&(qe=Ge.getAttribute('class').split(/\s+/)),void 0!=qe){let We=qe.indexOf(ie.SCOPE_NAME);if(0<=We){let ze=qe[We+1];ze&&ie.dom(Ge,ze,!0)}}}}}}},Ue=new MutationObserver(ke),Ke=Ve=>{Ue.observe(Ve,{childList:!0,subtree:!0})},Xe=window.customElements&&!window.customElements.flush;if(Xe)Ke(document);else{let Ve=()=>{Ke(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Ve):requestAnimationFrame(function(){if('loading'===document.readyState){let je=function(){Ve(),document.removeEventListener('readystatechange',je)};document.addEventListener('readystatechange',je)}else Ve()})}Ie=function(){ke(Ue.takeRecords())}}let Oe=new class{constructor(ke=100){this.cache={},this.typeMax=ke}_validate(ke,Ue,Ke){for(let Xe=0;Xe<Ke.length;Xe++){let Ve=Ke[Xe];if(ke.properties[Ve]!==Ue[Ve])return!1}return!0}store(ke,Ue,Ke,Xe){let Ve=this.cache[ke]||[];Ve.push({properties:Ue,styleElement:Ke,scopeSelector:Xe}),Ve.length>this.typeMax&&Ve.shift(),this.cache[ke]=Ve}fetch(ke,Ue,Ke){let Xe=this.cache[ke];if(Xe)for(let Ve=Xe.length-1;0<=Ve;Ve--){let je=Xe[Ve];if(this._validate(je,Ue,Ke))return je}}};class Me{constructor(){this._scopeCounter={},this._documentOwner=document.documentElement,this._documentOwnerStyleInfo=me.set(document.documentElement,new me({rules:[]})),this._elementsHaveApplied=!1}get nativeShadow(){return j}get nativeCss(){return B}get nativeCssApply(){return Y}flush(){Ie()}_generateScopeSelector(De){let ke=this._scopeCounter[De]=(this._scopeCounter[De]||0)+1;return`${De}-${ke}`}getStyleAst(De){return T(De)}styleAstToString(De){return A(De)}_gatherStyles(De){let ke=De.content.querySelectorAll('style'),Ue=[];for(let Ke=0;Ke<ke.length;Ke++){let Xe=ke[Ke];Ue.push(Xe.textContent),Xe.parentNode.removeChild(Xe)}return Ue.join('').trim()}_getCssBuild(De){let ke=De.content.querySelector('style');return ke?ke.getAttribute('css-build')||'':''}prepareTemplate(De,ke,Ue){if(!De._prepared){De._prepared=!0,De.name=ke,De.extends=Ue,pe[ke]=De;let Ke=this._getCssBuild(De),Xe=this._gatherStyles(De),Ve={is:ke,extends:Ue,__cssBuild:Ke};this.nativeShadow||ie.dom(De.content,ke);let je=Pe.detectMixin(Xe),Be=e(Xe);je&&this.nativeCss&&!this.nativeCssApply&&Pe.transformRules(Be,ke),De._styleAst=Be;let Ye=[];if(this.nativeCss||(Ye=he.decorateStyles(De._styleAst,Ve)),!Ye.length||this.nativeCss){let Ge=this.nativeShadow?De.content:null,qe=ge[ke],We=this._generateStaticStyle(Ve,De._styleAst,Ge,qe);De._style=We}De._ownPropertyNames=Ye}}_generateStaticStyle(De,ke,Ue,Ke){let Xe=ie.elementStyles(De,ke);if(Xe.length)return P(Xe,De.is,Ue,Ke)}_prepareHost(De){let Ue,ke=De.getAttribute('is')||De.localName;ke!==De.localName&&(Ue=De.localName);let Ve,je,Be,Ke=ge[ke],Xe=pe[ke];return Xe&&(Ve=Xe._styleAst,je=Xe._ownPropertyNames,Be=Xe._cssBuild),me.set(De,new me(Ve,Ke,je,ke,Ue,Be))}applyStyle(De,ke){let Ue=De.getAttribute('is')||De.localName,Ke=me.get(De),Xe=!!Ke;if(Ke||(Ke=this._prepareHost(De)),this._isRootOwner(De)||(this._elementsHaveApplied=!0),window.CustomStyle){let Ve=window.CustomStyle;if(Ve._documentDirty){if(Ve.findStyles(),this.nativeCss?!this.nativeCssApply&&Ve._revalidateApplyShim():this._updateProperties(this._documentOwner,this._documentOwnerStyleInfo),Ve.applyStyles(),!this._elementsHaveApplied)return;if(!this.nativeCss&&(this.updateStyles(),Xe))return}}if(ke&&(Ke.overrideStyleProperties=Ke.overrideStyleProperties||{},Object.assign(Ke.overrideStyleProperties,ke)),this.nativeCss){Ke.overrideStyleProperties&&this._updateNativeProperties(De,Ke.overrideStyleProperties);let Ve=pe[Ue];if(!Ve&&!this._isRootOwner(De))return;if(Ve&&Ve._applyShimInvalid&&Ve._style){if(Ve._validating||(Pe.transformRules(Ve._styleAst,Ue),Ve._style.textContent=ie.elementStyles(De,Ke.styleRules),me.startValidating(Ue)),this.nativeShadow){let je=De.shadowRoot;if(je){let Be=je.querySelector('style');Be.textContent=ie.elementStyles(De,Ke.styleRules)}}Ke.styleRules=Ve._styleAst}}else this._updateProperties(De,Ke),Ke.ownStylePropertyNames&&Ke.ownStylePropertyNames.length&&this._applyStyleProperties(De,Ke);if(Xe){let Ve=this._isRootOwner(De)?De:De.shadowRoot;Ve&&this._applyToDescendants(Ve)}}_applyToDescendants(De){let ke=De.children;for(let Ke,Ue=0;Ue<ke.length;Ue++)Ke=ke[Ue],Ke.shadowRoot&&this.applyStyle(Ke),this._applyToDescendants(Ke)}_styleOwnerForNode(De){let ke=De.getRootNode(),Ue=ke.host;return Ue?me.get(Ue)?Ue:this._styleOwnerForNode(Ue):this._documentOwner}_isRootOwner(De){return De===this._documentOwner}_applyStyleProperties(De,ke){let Ue=De.getAttribute('is')||De.localName,Ke=Oe.fetch(Ue,ke.styleProperties,ke.ownStylePropertyNames),Xe=Ke&&Ke.scopeSelector,Ve=Ke?Ke.styleElement:null,je=ke.scopeSelector;ke.scopeSelector=Xe||this._generateScopeSelector(Ue);let Be=he.applyElementStyle(De,ke.styleProperties,ke.scopeSelector,Ve);return this.nativeShadow||he.applyElementScopeSelector(De,ke.scopeSelector,je),Ke||Oe.store(Ue,ke.styleProperties,Be,ke.scopeSelector),Be}_updateProperties(De,ke){let Ue=this._styleOwnerForNode(De),Ke=me.get(Ue),Xe=Ke.styleProperties,Ve=Object.create(Xe||null),je=he.hostAndRootPropertiesForScope(De,ke.styleRules),Be=he.propertyDataFromStyles(Ke.styleRules,De),Ye=Be.properties;Object.assign(Ve,je.hostProps,Ye,je.rootProps),this._mixinOverrideStyles(Ve,ke.overrideStyleProperties),he.reify(Ve),ke.styleProperties=Ve}_mixinOverrideStyles(De,ke){for(let Ue in ke){let Ke=ke[Ue];(Ke||0===Ke)&&(De[Ue]=Ke)}}_updateNativeProperties(De,ke){for(let Ue in ke)null===Ue?De.style.removeProperty(Ue):De.style.setProperty(Ue,ke[Ue])}updateStyles(De){this.applyStyle(this._documentOwner,De)}_transformCustomStyleForDocument(De){let ke=T(De);R(ke,Ue=>{j?ie.normalizeRootSelector(Ue):ie.documentRule(Ue),this.nativeCss&&!this.nativeCssApply&&Pe.transformRule(Ue)}),this.nativeCss?De.textContent=A(ke):this._documentOwnerStyleInfo.styleRules.rules.push(ke)}_revalidateApplyShim(De){if(this.nativeCss&&!this.nativeCssApply){let ke=T(De);Pe.transformRules(ke),De.textContent=A(ke)}}_applyCustomStyleToDocument(De){this.nativeCss||he.applyCustomStyle(De,this._documentOwnerStyleInfo.styleProperties)}getComputedStyleValue(De,ke){let Ue;if(!this.nativeCss){let Ke=me.get(De)||me.get(this._styleOwnerForNode(De));Ue=Ke.styleProperties[ke]}return Ue=Ue||window.getComputedStyle(De).getPropertyValue(ke),Ue.trim()}setElementClass(De,ke){let Ue=De.getRootNode(),Ke=ke?ke.split(/\s/):[],Xe=Ue.host&&Ue.host.localName;if(!Xe){var Ve=De.getAttribute('class');if(Ve){let je=Ve.split(/\s/);for(let Be=0;Be<je.length;Be++)if(je[Be]===ie.SCOPE_NAME){Xe=je[Be+1];break}}}if(Xe&&Ke.push(ie.SCOPE_NAME,Xe),!this.nativeCss){let je=me.get(De);je&&je.scopeSelector&&Ke.push(he.XSCOPE_NAME,je.scopeSelector)}L(De,Ke.join(' '))}_styleInfoForNode(De){return me.get(De)}}window.ShadyCSS=new Me;let be=window.ShadyCSS,we=!1,Le=[],He=null;class Fe extends HTMLElement{static get _customStyles(){return Le}static get processHook(){return He}static set processHook(De){He=De}static get _documentDirty(){return we}static findStyles(){for(let De=0;De<Le.length;De++){let ke=Le[De];if(!ke._style){let Ue=ke.querySelector('style');if(!Ue)continue;if(Ue.__appliedElement)for(let Ke=0;Ke<Ue.attributes.length;Ke++){let Xe=Ue.attributes[Ke];Ue.__appliedElement.setAttribute(Xe.name,Xe.value)}ke._style=Ue.__appliedElement||Ue,He&&He(ke._style),be._transformCustomStyleForDocument(ke._style)}}}static _revalidateApplyShim(){for(let De=0;De<Le.length;De++){let ke=Le[De];ke._style&&be._revalidateApplyShim(ke._style)}}static applyStyles(){for(let De=0;De<Le.length;De++){let ke=Le[De];ke._style&&be._applyCustomStyleToDocument(ke._style)}we=!1}constructor(){super(),Le.push(this),F()}}window.CustomStyle=Fe,window.customElements.define('custom-style',Fe)})();
//# sourceMappingURL=shadycss.min.js.map
